//----------------------------------------------------------------------------
// File: Mosaic.fx 
// 
// The effect file for the Mosaic HLSL sample. 
//----------------------------------------------------------------------------
//----------------------------------------------------------------------------
// Global variables 
//----------------------------------------------------------------------------
sampler tex0 : register(s0);




//----------------------------------------------------------------------------
// pass0 PixelShader Main Function 
//----------------------------------------------------------------------------
float4 PS_P0_Main(float2 UV : TEXCOORD0) : COLOR0
{

	float2 pos = UV;

	float distortion = 0.5;

	pos -= float2(0.5, 0.5);
	
	pos *= pow(length(pos), distortion);

	pos += float2(0.5, 0.5);

	return tex2D(tex0, pos);

}
//----------------------------------------------------------------------------
// Techniques 
//----------------------------------------------------------------------------
technique Mosaic {
	pass P0
	{
		VertexShader = NULL;
		PixelShader = compile ps_2_0 PS_P0_Main();
	}
}