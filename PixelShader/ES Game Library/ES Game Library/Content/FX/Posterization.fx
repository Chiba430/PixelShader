//-----------------------------------------------------------------------------
// File: Posterization.fx
//
// The effect file for the HLSL sample.
//-----------------------------------------------------------------------------

//-----------------------------------------------------------------------------
// Global variables
//-----------------------------------------------------------------------------
sampler tex0 : register(s0);

int   bits = 3;

//-----------------------------------------------------------------------------
// pass0 PixelShader Main Function
//-----------------------------------------------------------------------------
float4 P0_PS(float2 UV : TEXCOORD0) : COLOR0
{
    float4 Color = tex2D(tex0, UV);

    Color.rgb = floor(Color.rgb * bits + 0.5f) / bits;

    return Color;
}

//-----------------------------------------------------------------------------
// Techniques
//-----------------------------------------------------------------------------
technique Sepia
{
    pass P0
    {
        VertexShader = NULL;
        PixelShader  = compile ps_2_0 P0_PS();
    }
}